\chapter{Prototype Solution}
\label{chapter:prototype}

In Section \ref{sec:benchmarking} existing solutions for the problems of
publishing, sharing and managin research data were presented. It is clear that
since these solutions exist, there is no point in reinventing the wheel and
implement a new system. Instead we decided to implement a local installation
of some of the systems presented in the benchmarking section. From the test
installations we would choose the one that worked the best and use that to
run tests on potential users of the system. This way we would get insights
going forward on what the finalized system would look like. It's also notable
that the existing solutions are remarkably similar, so using any one of them
would give appliccable results.

The prototype solution focuses on publishing and sharing of research data. The
other option would have been to focus on the research data management during
the research project, but research projects last longer than the span of this
thesis and the results gained from that would likely be quite superficial.
The lack of culture and practices are a factor for both publishing and
and managing research data. The lacking of research data management culture is
due to the lack of education and need for it, whereas publishing research data
is a moderately new phenomenon. This makes it also a more interesting subject
of study.

We ended up choosing the Harvard Dataverse solution to be the prototype for our
purposes. The follwing sections detail the rationale behind this choice, the
technical details of the system and the tests that were conducted using the
system along with the learnings.

\section{Rationale behind selecting Dataverse}

As a part of the benchmarking the existing solutions and in order to select the
we right tool to run tests on users tried installations of a Hydra head, a
Zenodo instance and a Harvard Dataverse instance. These three were chosen
because they represent different technologies and are widely adopted as tools
for publishing research data.

\subsection{Hydra head installation}

Setting up a Hydra head is fairly simple using Ruby Gems (citations to the
installation instructions and Ruby website). Setting up the basic Hydra head
does not get you far, however, since after setting up the installation you need
to define your data model and almost everything else on your repository.

This setup cost makes Hydra a very versatile framework. It's being used on many
places beyond just research institutions, such as museums and image
repositories (cite a website with a list of examples). Many of these systems
are open source, build on the different branches of Hydra (another website has
a listing of these). After trying two of these installations (names here, can't
recall them now), but they were wither branded for their respective
organizations or came with imperfect installation instructions.

The conclusion about Hydra heads was that while the system is modern and quite
easy to install, the setup of the system made it too time consuming to setup a
testing prototype in a reasonable time frame. The system is flexible and if you
wanted to build your own customized repository solution Hydra would be suitable
for that. Especially Blacklight, the frontend library used by the Hydra
project, is quite good and makes for easy to use and efficient frontends.

\subsection{Zenodo installation}

We tried installing Zenodo syste locally from the source code (point tot the
repository from here), but could not get the build process to work correclty.
It was later found out that the Zenodo system, which is built upon the Invenio
archiving software, is notoriously hard to install according to the people who
originally built it (cite the interview with Damien).

Due to the problems with the installation we ruled the Zenodo system out at
the prototyping phase.

\subsection{Harvard Dataverse}

Harvard Dataverse was easy to install with the installation instructions as
both a development version from the source code and a production version with
the installation bundle (citations to the installation guides).

The easy installation immediately gave a functioning softare repository to
conduct tests with and that lead to the decision to use Dataverse as the
prototype to test current data repository solutions and gain feedback to plan
ahead.

\subsection{Similarity of the existing solutions}

Though implemented in different technologies, the functioning of the existing
research data repository systems is quite similar. All of them offer form based
dataset uploads, full text searches and some forms of access control. Many of
them are even built on same technologies, such as Solr indexing software (cite
a website describing what Solr is) or postgreSQL (cite to somewhere that tells
what postgreSQL is).

The similarity of the systems as well as the fact that there is no global
consensus on what repository software is the best in business hints that you
could use any one of them in your organization. The real question is how you
get yout users to use the system and actually extract value out of it.

\section{Users of the system}
\label{sec:users}

In order to quantify the requirements of the system, we have boiled them down
to user stories. Here they are (and at this stage the user stories are from
Richard - I'll update them accordingly once I get around to do that).

\subsection{Research scientist}

\begin{itemize}
    \item As a researcher, I want to publish a dataset as Open Data so that it
          can be useful to others and I can get citations.
    \item As a researcher, I want to have a single citable URL for a dataset
          which I can't release publicly, so that I can draw attention to my
          work and get citations. 
    \item As a researcher, I want to publish a massive dataset in a way that
          others can access it, and not have to duplicate metadata entry on the
          other hosting service and the dataset repository, so that I don't have
          to worry about hosting myself. 
    \item As a researcher or research group, I want my data to be linked to my
          own pages and possibly a data profile page, so that I gain visibility
          to myself from releasing data. 
    \item As a person applying for funding, I want a ready-made data publication
          solution (possibly including text) that I can put into my
          applications, so that it saves me time when applying for funding and
          increase my chances. 
    \item As a researcher, I want to store metadata in dataverse, but in a way
          that I can guarantee that it will never be published or viewable to
          anyone unauthorized by accident and without explicit consent.  (This
          is add-on to "private data" stories above.)
    \item Finding datasets online should be made easy and storing that information
          should be stored easily.
    \item As a researcher, I want to know what other researchers are doing and
          what kind of data they are using. I might want to collaborate with
          them or use their data to make my research
    \item As a researcher, I want my papers and research to have as much impact
          as possible, which is aided by publishing my datasets free online
    \item As a researcher, I want to be sure that my data is safe so that I can
          focus on more important work
    \item As a researcher, I want data management during my research project to
          be as easy as possible so that it doesn't cause unnecessary overhead
\end{itemize}

\subsection{Course}

\begin{itemize}
    \item As a course instructor in a data-driven course, I want to put several
          small datasets online for use of students in my class, so that I have
          less data management to do myself in the long run.
    \item As a course instructor in a data-driven course, I want for my students
          to be able to find other datasets online, so that they may find other
          data which engages them more than my own.
\end{itemize}

\subsection{Reseach group}

\begin{itemize}
    \item As a research group, we want to be able to put dataset documentation
          in one central place, so that we don't lose memory of data and
          metadata over time as people come and go.  This can be both published
          and private data.
    \item As a research group, we want to put metadata about our data where it
          can be browsed by others at Aalto, so that we can find collaborators
          who may want to work with us.  This data should not be visible to
          anyone else on the internet.
    \item As a research group, we want to have a data collection with
          permissions such that it is very easy to add new members to our
          group. Preferably, this is automatic using university LDAP.
    \item As a research group, we want different levels of privacy of data to
          coexist in our data collection so that we need only one collection.
          For example, all data in our collection should be private by default,
          but some can be published.
\end{itemize}

\subsection{Librarian}

\begin{itemize}
    \item As a librarian, I want to be a part of the digital publishing of out
          insitutions datasets.
    \item As a librarian, I want to use my metadata and description expertise
          to aid the researchers and to have their datasets properly documented
          and metadata properly used
    \item As a librarian, I want the dataset publication system to communicate
          with other electronic publishing systems already in use in our
          institution
    \item As a librarian, I want to pass on my knowledge of metadata and
          electronic publishing also to the scientists so that they can both
          take that into account while they work and so that my work in helping
          them becomes easier
\end{itemize}

\subsection{Student}

\begin{itemize}
    \item As a student, I want easy access to any materials that my course
          requires me to use with my course work
    \item As a student working on any level of thesis I would like to know if
          relevant datasets that I could use with my thesis exist and would
          like to have easy access to them
    \item As a student working on different studenr projects that generate
          data, I would like to know the best practices that allow me to use
          the least time to manage my data and allow me to save them in a
          convenient location
\end{itemize}

\subsection{Anybody (not affiliated with the insitution hosting the repository)}

\begin{itemize}
    \item As a developer of applications, I want to have access to interesting
          datasets that could potentially be used as a basis of great
          applications
    \item As a funding body, I want that the access to the to the datasets that
          should be public is easy and that the system does not allow them to
          be published in a way that they are hard to find
\end{itemize}

\subsection{IT staff}

\begin{itemize}
    \item As an administrator, I want to be able to see the data produced and
          released by my unit in the last N years, so that I can document
          productivity and better apply for funding.
    \item As the data repository administrator, I want tangible benefits to
          researchers, so that they feel that using this is worth their time and
          continue using long-term.  (This is vague - just something to keep in
          mind.)
    \item As an administrator, I want the system to be easy to maintain, so
          that it doesn't cause extraneous overhead with my other maintenance
          tasks
    \item As an administrator, I want the data management plan to contain the
          whole lidecycle of the data in order to preserve it the best way
          possible
\end{itemize}

\subsection{Other}

\begin{itemize}
    \item As a user of the prototype dataverse, I want to be able to migrate my
          (meta)data and permissions to the final Aalto data repository so that
          my work in preparing data is as useful as possible.
\end{itemize}

\section{System description}
\label{sec:system_description}

There are two installations of the Harvard Dataverse - on development
installation (from the source code) and one production version (from the
installation package). The development installation is used to run observed
user tests, explained in the next section (forward reference), whereas the
production version is given out to selected pilot users to be used as a place
to store their data.

TODO: Further description of the Havard Dataverse architecture and how they
are run in the CSC cloud computing environment.

\section{System testing}
\label{sec:system_testing}

Two folded testing - the pilot users that use the system on their own and give
feedback after using them. Then there are the user tests, which are run under
observation to gauge more insights and see things that the users themselves
might be blind to.

\section{Outcomes of the prototype}
\label{sec:prototype_outcomes}

\begin{itemize}
    \item The manual uploading process is just fine
    \item It is a must that there is an API - for example, thousands of video
          files will not be uploaded manually
    \item It is important that the server can cache large files as a part of
          the upload process
    \item Search functionality
        \begin{itemize}
            \item Poorly described datasets
            \item Not intuitive to find data from within all the search results
            \item Dataset size is no available as a search filtering parameter
            \item The vocabulary in advanced search is foreign for the users
            \item The search results are not well organized
        \end{itemize}
    \item Access controls are important and function quite well
    \item Peer to peer teaching would be good
    \item How data is stored (folder structures and such) contains information
          and that should be captured by the system
    \item Accessing data from outside work computers would be nice
    \item More to come here, have to dig up my notes
\end{itemize}
